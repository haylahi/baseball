<?xml version="1.0"?>
<openerp>
    <data noupdate="1">
        <record id="mail_template_game_invitation" model="mail.template">
            <field name="name">Game Invitation</field>
            <field name="email_from"></field>
            <field name="subject">${'Tournoi %s @ %s' % (object.game_id.home_team.name, object.game_id.venue.name) if object.game_id.game_type == 'tournament' else '[%s] %s @ %s' % (object.game_id.game_number, object.game_id.away_team.name, object.game_id.home_team.name)}</field>
            <field name="model_id" ref="baseball.model_baseball_game_invitation"/>
            
            <field name="partner_to">${object.partner_id.id or False }</field>
            <field name="auto_delete" eval="True"/>
            
            <field name="body_html"><![CDATA[
<style> 
    span.oe_mail_footer_access {
        display:block;    
        text-align:center;
        color:grey;
    }
</style>
<div style="border-radius: 2px; max-width: 1200px; height: auto;margin-left: auto;margin-right: auto;background-color:#f9f9f9;">
    <div style="height:auto;text-align: center;font-size : 30px;color: #8A89BA;">
        <strong>${object.game_id.game_number}</strong>
    </div>
    <div style="text-align: left;font-size : 14px;border-collapse: separate;margin-top:10px">
        <strong>${object.partner_id.name}</strong>,<br/>
        <p>Les prochains matches arrivent, il est temps de prévenir si tu es disponible ou non pour le match du ${object.game_id.start_date}.</p> 
        <br/>
% if object.game_id.game_type == 'tournament':
        <p>Le tournoi ${object.game_id.home_team.name} @ ${object.game_id.venue.name} est prévu le ${object.game_id.start_date} et commence à  ${object.game_id.start_hour}</p>
% else:
        <p>Le match ${object.game_id.away_team.name} @ ${object.game_id.home_team.name} (${object.game_id.game_number}) est prévu le ${object.game_id.start_date} à ${object.game_id.start_hour}</p>
% endif
    </div>

    <div style="height: auto;width:450px; margin:0 auto;padding-top:20px;padding-bottom:40px;">
            <a style="padding: 8px 30px 8px 30px;border-radius: 6px;border: 1px solid #CCCCCC;background:#8A89BA;margin : 0 15px 0 0;text-decoration: none;color:#FFFFFF;" href="/game/invitation/accept?token=${object.token}&invite_id=${object.id}">Présent</a>
            <a style="padding: 8px 30px 8px 30px;border-radius: 6px;border: 1px solid #CCCCCC;background:#808080;margin : 0 15px 0 0;text-decoration: none;color:#FFFFFF;" href="/game/invitation/decline?token=${object.token}&invite_id=${object.id}">Absent</a>

    </div> 
</div>
                ]]>
                </field>
        </record>
    </data>
</openerp>